# Converted from Documento Final v3_ Estructura de Base de Datos Co.._.docx

Documento Final: Estructura de la Base de Datos
Sistema de Gestión Integral para la Liga Villetana de Fútbol
Versión: 3.0 (Corregida y Final) Fecha: 7 de Junio de 2025 SGBD de Referencia: PostgreSQL
MÓDULO 1: ADMINISTRACIÓN Y CONFIGURACIÓN
Este módulo contiene las tablas fundamentales para la configuración y gestión global del sistema.
Tabla: Ligas
Descripción: Almacena la información de la entidad organizadora principal. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | liga_id | SERIAL | PK | Identificador único de la liga. | | nombre_liga | VARCHAR(255) | NOT NULL, UNIQUE | Nombre completo de la liga (ej. "Liga Villetana de Fútbol"). | | siglas | VARCHAR(20) | UNIQUE | Siglas o nombre corto (ej. "LVF"). | | fecha_fundacion | DATE | | Fecha de fundación de la liga. | | direccion_sede | VARCHAR(255) | | Dirección física de la sede de la liga. | | email_contacto | VARCHAR(100) | | Email de contacto oficial. | | telefono_contacto | VARCHAR(50) | | Teléfono de contacto oficial. | | logo_url | VARCHAR(255) | | URL del logo de la liga. | | created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | Fecha y hora de creación del registro. | | updated_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | Fecha y hora de la última actualización. |
Tabla: Roles
Descripción: Define los roles de usuario para el control de acceso del personal administrativo. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | rol_id | SERIAL | PK | Identificador único del rol. | | nombre_rol | VARCHAR(100) | NOT NULL, UNIQUE | Nombre del rol (ej. "Administrador Liga", "Delegado Club", "Operador Partido", "Moderador Comunidad"). | | descripcion_rol | TEXT | | Descripción de las responsabilidades del rol. |
Tabla: Usuarios (Personal Administrativo)
Descripción: Almacena la información del personal que gestiona el sistema. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | usuario_id | SERIAL | PK | Identificador único del usuario. | | rol_id | INT | FK a Roles(rol_id) | Rol asignado al usuario. | | club_id | INT | FK a Clubes(club_id), NULLABLE | Club al que pertenece el usuario (si aplica). | | nombre_completo | VARCHAR(200) | NOT NULL | Nombre y apellido del usuario. | | email | VARCHAR(100) | NOT NULL, UNIQUE | Email para login y notificaciones. | | password_hash | VARCHAR(255) | NOT NULL | Contraseña encriptada (hasheada). | | estado | VARCHAR(50) | NOT NULL, DEFAULT 'Activo' | Estado: 'Activo', 'Inactivo', 'Bloqueado'. | | last_login | TIMESTAMP | NULLABLE | Fecha y hora del último inicio de sesión. | | created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | | | updated_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | |
Tabla: Estadios
Descripción: Almacena la información de las canchas y estadios donde se juegan los partidos. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | estadio_id | SERIAL | PK | Identificador único del estadio. | | club_propietario_id | INT | FK a Clubes(club_id), NULLABLE | Club dueño del estadio (si lo tiene). | | nombre_estadio | VARCHAR(255) | NOT NULL, UNIQUE | Nombre oficial del estadio (ej. "Pa'i Beni"). | | direccion_o_localidad| VARCHAR(255) | | Dirección o compañía donde se ubica. | | capacidad_aprox | INT | | Capacidad aproximada de espectadores. | | estado | VARCHAR(50) | NOT NULL, DEFAULT 'Habilitado' | Estado: 'Habilitado', 'En Reparación', 'Suspendido', 'Requiere Inspección'. | | promedio_calificacion | DECIMAL(3, 2)| DEFAULT 0.00 | Calificación promedio del público (calculado). | | total_calificaciones | INT | DEFAULT 0 | Número total de calificaciones recibidas. | | created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | | | updated_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | |
MÓDULO 2: GESTIÓN DEPORTIVA
Este módulo se encarga de toda la información relacionada con los participantes y la estructura de las competiciones.
Tabla: Personas
Descripción: Tabla centralizada para datos personales de jugadores, cuerpos técnicos y árbitros. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | persona_id | SERIAL | PK | Identificador único de la persona. | | nombres | VARCHAR(150) | NOT NULL | | | apellidos | VARCHAR(150) | NOT NULL | | | documento_identidad | VARCHAR(50) | UNIQUE | Número de Cédula de Identidad. Clave para evitar duplicados. | | fecha_nacimiento | DATE | | | | nacionalidad | VARCHAR(100) | DEFAULT 'Paraguaya' | | | foto_url | VARCHAR(255) | NULLABLE | URL de la foto de perfil. |
Tabla: Clubes
Descripción: Información de los clubes afiliados a la liga, con campos adicionales para perfiles públicos. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | club_id | SERIAL | PK | Identificador único del club. | | liga_id | INT | FK a Ligas(liga_id) | Liga a la que está afiliado. | | nombre_oficial | VARCHAR(255) | NOT NULL, UNIQUE | Nombre completo del club. | | nombre_corto | VARCHAR(50) | | Nombre comúnmente usado (ej. "Cerro León"). | | fecha_fundacion | DATE | | | | sede_o_compania | VARCHAR(255) | | Barrio, compañía o localidad principal del club. | | escudo_url | VARCHAR(255) | | URL del logo/escudo del club. | | colores_primario | VARCHAR(50) | | Ej: "Rojo". | | colores_secundario | VARCHAR(50) | | Ej: "Negro". | | estado | VARCHAR(50) | NOT NULL, DEFAULT 'Activo' | Estado: 'Activo', 'Suspendido', 'En Receso', 'Desafiliado'. | | historia_breve | TEXT | NULLABLE | Un párrafo corto sobre la historia del club para su perfil. | | red_social_facebook | VARCHAR(255) | NULLABLE | URL del perfil de Facebook del club. | | red_social_twitter | VARCHAR(255) | NULLABLE | URL del perfil de Twitter/X del club. | | red_social_instagram | VARCHAR(255) | NULLABLE | URL del perfil de Instagram del club. | | promedio_calificacion | DECIMAL(3, 2)| DEFAULT 0.00 | Calificación promedio del público (calculado). | | total_calificaciones | INT | DEFAULT 0 | Número total de calificaciones recibidas. | | created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | | | updated_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | |
Tabla: Clubes_Palmares
Descripción: Registra el historial de títulos y logros de los clubes de forma estructurada. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | palmares_id | SERIAL | PK | Identificador único del logro. | | club_id | INT | FK a Clubes(club_id) | Club que obtuvo el logro. | | nombre_torneo_logro | VARCHAR(255) | NOT NULL | Nombre del torneo donde se obtuvo el logro. | | temporada_logro | VARCHAR(50) | NOT NULL | Año o temporada del logro. | | posicion_lograda | VARCHAR(100)| NOT NULL | Ej. 'Campeón', 'Vice-Campeón', 'Campeón (Juvenil)'. |
Tabla: Jugadores
Descripción: Información deportiva de jugadores, con campos para estadísticas de calificación. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | jugador_id | SERIAL | PK | Identificador único del jugador. | | persona_id | INT | FK a Personas(persona_id), NOT NULL, UNIQUE| Vínculo a los datos personales. | | posicion_principal | VARCHAR(100) | | Ej: "Delantero", "Defensa Central". | | pie_habil | VARCHAR(50) | | Ej: "Derecho", "Izquierdo", "Ambidiestro". | | estado | VARCHAR(50) | NOT NULL, DEFAULT 'Habilitado'| Estado: 'Habilitado', 'Suspendido', 'Lesionado'. Se actualiza basado en Sanciones_Vigentes. | | promedio_calificacion | DECIMAL(3, 2)| DEFAULT 0.00 | Calificación promedio del público (calculado). | | total_calificaciones | INT | DEFAULT 0 | Número total de calificaciones recibidas. |
Tabla: Cuerpos_Tecnicos
Descripción: Información sobre el personal técnico. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | ct_id | SERIAL | PK | Identificador único del miembro del CT. | | persona_id | INT | FK a Personas(persona_id), NOT NULL, UNIQUE| Vínculo a los datos personales. | | tipo_ct | VARCHAR(100)| NOT NULL | Rol (ej. "Director Técnico", "Preparador Físico", "Kinesiólogo"). | | estado | VARCHAR(50) | NOT NULL, DEFAULT 'Habilitado'| Estado: 'Habilitado', 'Suspendido'. Se actualiza basado en Sanciones_Vigentes. |
Tabla: Arbitros
Descripción: Información sobre los árbitros. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | arbitro_id | SERIAL | PK | Identificador único del árbitro. | | persona_id | INT | FK a Personas(persona_id), NOT NULL, UNIQUE| Vínculo a los datos personales. | | categoria_arbitro | VARCHAR(100)| | Ej: "UFI", "APF", "Liga". | | estado | VARCHAR(50) | NOT NULL, DEFAULT 'Activo' | Estado: 'Activo', 'Inactivo', 'Suspendido'. |
Tabla: Torneos
Descripción: Define un torneo o campeonato general. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | torneo_id | SERIAL | PK | Identificador único del torneo. | | temporada | VARCHAR(50) | NOT NULL | Año o nombre de la temporada (ej. "2025"). | | nombre_torneo | VARCHAR(255) | NOT NULL | Nombre oficial (ej. "Súper Liga Villetana"). | | nombre_homenaje | TEXT | | Nombre completo del homenaje. | | fecha_inicio | DATE | | | | fecha_fin | DATE | | | | estado_torneo | VARCHAR(50)| NOT NULL, DEFAULT 'Planificado' | Estado: 'En Curso', 'Finalizado', 'Cancelado'. | | reglamento_url | VARCHAR(255)| NULLABLE | Enlace a un PDF con el reglamento del torneo. |
Tabla: Fases_Torneo
Descripción: Define las diferentes etapas de un torneo (Fase de Grupos, Octavos, etc.). | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | fase_id | SERIAL | PK | Identificador único de la fase. | | torneo_id | INT | FK a Torneos(torneo_id) | | | nombre_fase | VARCHAR(100) | NOT NULL | Ej: "Fase de Grupos", "Octavos de Final". | | tipo_fase | VARCHAR(50) | NOT NULL | Ej: "GRUPOS", "ELIMINATORIA_IDA_VUELTA". | | orden_secuencia_fase | INT | NOT NULL | Orden de ejecución de la fase (1, 2, 3...). | | reglas_clasificacion_json | JSONB | NULLABLE| Almacena reglas de desempate y clasificación en formato JSON. | | reglas_emparejamiento_json | JSONB | NULLABLE| Almacena reglas de sorteo y emparejamiento para la siguiente fase. |
Tabla: Grupos_Fase
Descripción: Define las series o grupos dentro de una fase de grupos. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | grupo_id | SERIAL | PK | Identificador único del grupo. | | fase_id | INT | FK a Fases_Torneo(fase_id) | | | nombre_grupo | VARCHAR(100) | NOT NULL | Nombre del grupo (ej. "Serie A", "Serie B"). | | cantidad_equipos_clasifican | INT | | Número de equipos que avanzan desde este grupo. |
Tabla: Equipos
Descripción: Representa la inscripción de un equipo de un club a un torneo en una categoría específica. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | equipo_id | SERIAL | PK | Identificador único del equipo en el torneo. | | club_id | INT | FK a Clubes(club_id) | | | torneo_id | INT | FK a Torneos(torneo_id) | | | categoria | VARCHAR(50)| NOT NULL | Ej: "Principal", "Juvenil". | | nombre_equipo_display| VARCHAR(255)| NOT NULL | Nombre para mostrar (ej. "Cerro León (Principal)"). | | estado_en_torneo | VARCHAR(50) | NOT NULL, DEFAULT 'Activo'| Estado: 'Activo', 'Eliminado', 'Descalificado', 'Campeón'. |
Tabla: Equipos_Grupos_Fase (Tabla de Unión)
Descripción: Asigna equipos a los grupos de la fase de grupos. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | equipo_id | INT | PK, FK a Equipos(equipo_id) | | | grupo_id | INT | PK, FK a Grupos_Fase(grupo_id) | |
Tabla: Jugadores_Equipos (Tabla de Unión - Lista de Buena Fe)
Descripción: Inscribe a un jugador en un equipo para un torneo. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | jugador_equipo_id | SERIAL | PK | | | jugador_id | INT | FK a Jugadores(jugador_id) | | | equipo_id | INT | FK a Equipos(equipo_id) | | | numero_camiseta | INT | | | | fecha_inscripcion | DATE | DEFAULT CURRENT_DATE | | | activo_en_plantilla | BOOLEAN | DEFAULT TRUE | Para dar de baja a un jugador durante el torneo. |
MÓDULO 3: COMPETICIÓN
Este módulo gestiona la ejecución de los partidos y todos los eventos que ocurren durante ellos.
Tabla: Llaves_Eliminatorias
Descripción: Estructura las llaves (brackets) de las fases de eliminación directa. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | llave_id | SERIAL | PK | | | fase_id | INT | FK a Fases_Torneo(fase_id) | | | categoria | VARCHAR(50) | NOT NULL | "Principal" o "Juvenil". | | nombre_llave | VARCHAR(100) | NOT NULL| Ej: "Octavos A", "Cuartos 1". | | equipo_A_id | INT | FK a Equipos(equipo_id) | | | equipo_B_id | INT | FK a Equipos(equipo_id) | | | equipo_ganador_id | INT | FK a Equipos(equipo_id), NULLABLE | Se actualiza al finalizar la llave. |
Tabla: Partidos
Descripción: Almacena la información de cada encuentro. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | partido_id | SERIAL | PK | | | fase_id | INT | FK a Fases_Torneo(fase_id) | | | llave_id | INT | FK a Llaves_Eliminatorias(llave_id), NULLABLE | Si el partido es de una fase eliminatoria. | | jornada_nombre | VARCHAR(100) | | Ej: "Fecha 1", "Octavos - Ida". | | equipo_local_id | INT | FK a Equipos(equipo_id) | | | equipo_visitante_id| INT | FK a Equipos(equipo_id) | | | estadio_id | INT | FK a Estadios(estadio_id) | | | fecha_hora_partido | TIMESTAMP | | | | goles_local | INT | DEFAULT 0 | | | goles_visitante | INT | DEFAULT 0 | | | goles_local_penales | INT | NULLABLE | Para definiciones por penales. | | goles_visitante_penales| INT | NULLABLE | | | estado_partido | VARCHAR(50)| NOT NULL, DEFAULT 'Programado'| Estado: 'Finalizado', 'Suspendido', 'Pendiente Tribunal'. | | jugador_destacado_id| INT | FK a Jugadores(jugador_id), NULLABLE | Figura del partido, designado por la liga. | | promedio_calificacion| DECIMAL(3, 2)| DEFAULT 0.00 | Calificación promedio del público para el partido. | | total_calificaciones| INT | DEFAULT 0 | Número de calificaciones recibidas. | | info_circulo_arbitral| VARCHAR(255)| | Ej: "Círculo de J. Augusto Saldívar". | | observaciones_veedor | TEXT | | | | created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | | | updated_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP | |
Tabla: Eventos_Partido
Descripción: Registra todos los incidentes importantes de un partido. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | evento_id | SERIAL | PK | | | partido_id | INT | FK a Partidos(partido_id) | | | equipo_id | INT | FK a Equipos(equipo_id) | Equipo que origina el evento. | | jugador_id | INT | FK a Jugadores(jugador_id) | Jugador involucrado. | | tipo_evento | VARCHAR(50) | NOT NULL | Ej: "GOL_JUGADA", "TARJETA_AMARILLA", "SUSTITUCION_ENTRA". | | minuto_evento | INT | | Minuto en que ocurrió el evento. | | jugador_asistencia_id| INT | FK a Jugadores(jugador_id), NULLABLE | Para registrar asistencias. | | jugador_relacionado_id| INT | FK a Jugadores(jugador_id), NULLABLE | Para sustituciones (quién entra/sale). | | descripcion_adicional| TEXT | | Detalles extra. |
Tabla: Sanciones_Vigentes
Descripción: Registra las sanciones activas para un control preciso de la habilitación. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | sancion_id | SERIAL | PK | Identificador único de la sanción. | | evento_id | INT | FK a Eventos_Partido(evento_id), NULLABLE | Evento que originó la sanción (ej. tarjeta roja). | | entidad_sancionada_tipo| VARCHAR(50) | NOT NULL | 'Jugador', 'CuerpoTecnico', 'Club', 'Estadio'. | | entidad_sancionada_id | INT | NOT NULL | ID del jugador, CT, club, etc. | | tipo_sancion | VARCHAR(100) | NOT NULL | Ej. 'Suspensión por Partidos', 'Suspensión por Tiempo'. | | cantidad_partidos_sancion| INT | NULLABLE | Número de partidos de suspensión. | | partidos_cumplidos | INT | DEFAULT 0 | Contador de partidos cumplidos. | | fecha_fin_sancion | DATE | NULLABLE | Fecha hasta la cual dura la suspensión por tiempo. | | estado_sancion | VARCHAR(50) | NOT NULL, DEFAULT 'Vigente'| 'Vigente', 'Cumplida', 'Apelada'. | | motivo_descripcion | TEXT | | Descripción de la sanción. |
MÓDULO 4: GESTIÓN FINANCIERA
Tablas para la administración de ingresos de la liga.
Tabla: Conceptos_Cobro
Descripción: Tipos de cargos financieros que la liga puede aplicar. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | concepto_id | SERIAL | PK | | | descripcion_concepto | VARCHAR(255) | NOT NULL, UNIQUE| Ej: "Inscripción Torneo Principal", "Tarjeta Amarilla", "Multa por WO". | | monto_sugerido | DECIMAL(12, 2)| NOT NULL, DEFAULT 0| | | tipo_concepto | VARCHAR(50) | | Ej: "INSCRIPCION", "TARJETA", "MULTA". |
Tabla: Cargos_Club
Descripción: Registra una deuda específica de un club con la liga. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | cargo_id | SERIAL | PK | | | club_id | INT | FK a Clubes(club_id) | | | concepto_id | INT | FK a Conceptos_Cobro(concepto_id) | | | evento_id | INT | FK a Eventos_Partido(evento_id), NULLABLE | Si el cargo se originó por un evento (ej. tarjeta). | | monto_cargo | DECIMAL(12, 2)| NOT NULL| | | fecha_cargo | DATE | DEFAULT CURRENT_DATE| | | estado_cargo | VARCHAR(50)| NOT NULL, DEFAULT 'Pendiente' | Ej: "Pagado", "Anulado". |
MÓDULO 5: ENTRADAS Y BOLETERÍAS
Módulo para la gestión de la venta de tickets para los partidos.
Tabla: Precios_Entradas_Fase
Descripción: Define los precios de las entradas según la fase del torneo. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | precio_entrada_fase_id| SERIAL | PK | | | fase_id | INT | FK a Fases_Torneo(fase_id) | | | descripcion_tipo_entrada| VARCHAR(100)| NOT NULL | Ej: "General", "Preferencia", "Socio". | | precio | DECIMAL(12, 2)| NOT NULL | | | activo | BOOLEAN | DEFAULT TRUE | |
Tabla: Ventas_Entradas
Descripción: Registra cada transacción de venta de entradas. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | venta_entrada_id | SERIAL | PK | | | partido_id | INT | FK a Partidos(partido_id) | | | precio_entrada_fase_id | INT | FK a Precios_Entradas_Fase(precio_entrada_fase_id)| | | cantidad | INT | NOT NULL, DEFAULT 1 | | | monto_total_venta | DECIMAL(12, 2)| NOT NULL | | | fecha_hora_venta | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP| | | usuario_boleteria_id| INT | FK a Usuarios(usuario_id) | Usuario que realizó la venta. | | punto_venta_id | VARCHAR(100)| | Identificador de la boletería o "ONLINE". | | anulada | BOOLEAN | DEFAULT FALSE | |
MÓDULO 6: GESTIÓN DE ACREDITACIONES
Módulo para la gestión de pases de prensa y personal autorizado.
Tabla: Tipos_Acreditacion
Descripción: Define los diferentes tipos de credenciales que se pueden emitir. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | tipo_acreditacion_id| SERIAL | PK | | | nombre_tipo_acreditacion| VARCHAR(150)| NOT NULL, UNIQUE| Ej: "Prensa Escrita", "Fotógrafo", "Cuerpo Técnico Visitante". | | descripcion_acreditacion| TEXT | | |
Tabla: Acreditados
Descripción: Registro de personas o entidades que pueden recibir acreditaciones. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | acreditado_id | SERIAL | PK | | | persona_id | INT | FK a Personas(persona_id), UNIQUE| | | medio_o_organizacion| VARCHAR(255)| NULLABLE | Ej: "Diario ABC", "Radio Ñandutí". | | funcion_principal | VARCHAR(150)| NULLABLE | Ej: "Periodista", "Camarógrafo". | | estado | VARCHAR(50) | NOT NULL, DEFAULT 'Activo'| 'Activo', 'Inactivo', 'Bloqueado'. |
Tabla: Acreditaciones_Emitidas
Descripción: Registra cada credencial específica que ha sido emitida. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | acreditacion_emitida_id| SERIAL | PK | | | acreditado_id | INT | FK a Acreditados(acreditado_id)| | | tipo_acreditacion_id | INT | FK a Tipos_Acreditacion(tipo_acreditacion_id)| | | torneo_id | INT | FK a Torneos(torneo_id), NULLABLE | Si es para todo un torneo. | | partido_id | INT | FK a Partidos(partido_id), NULLABLE | Si es para un partido específico. | | fecha_emision | DATE | DEFAULT CURRENT_DATE | | | fecha_validez_hasta | DATE | | | | codigo_qr_identificador| VARCHAR(255)| UNIQUE, NULLABLE | Para control de acceso. | | estado_emision | VARCHAR(50) | NOT NULL, DEFAULT 'Vigente'| 'Vigente', 'Vencida', 'Revocada'. |
MÓDULO 7: COMUNIDAD Y ENGAGEMENT
Funcionalidades para convertir el portal en una plataforma social.
Tabla: Aficionados
Descripción: Usuarios públicos (hinchas) que se registran en el portal para interactuar. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | aficionado_id | SERIAL | PK | Identificador único del aficionado. | | club_favorito_id | INT | FK a Clubes(club_id), NULLABLE | Club preferido del hincha. | | nombre_publico | VARCHAR(100)| NOT NULL, UNIQUE | Nickname o nombre de usuario público. | | email | VARCHAR(100)| NOT NULL, UNIQUE | Email para login y notificaciones. | | password_hash | VARCHAR(255)| NOT NULL | Contraseña encriptada. | | foto_perfil_url| VARCHAR(255)| NULLABLE | Avatar del usuario. | | reputacion | INT | DEFAULT 0 | Puntaje de reputación (basado en interacciones aprobadas). | | estado | VARCHAR(50) | NOT NULL, DEFAULT 'Activo'| 'Activo', 'Suspendido', 'Bloqueado'. | | created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP| |
Tabla: Noticias_Club
Descripción: Permite a los delegados de los clubes publicar noticias en el perfil de su club. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | noticia_id | SERIAL | PK | | | club_id | INT | FK a Clubes(club_id) | Club que publica la noticia. | | usuario_autor_id | INT | FK a Usuarios(usuario_id) | Usuario autorizado que crea la noticia. | | titulo_noticia | VARCHAR(255)| NOT NULL | El titular de la noticia. | | contenido_noticia| TEXT | NOT NULL | El cuerpo completo de la noticia. | | imagen_url | VARCHAR(255)| NULLABLE | URL de una imagen destacada. | | estado_publicacion| VARCHAR(50) | NOT NULL, DEFAULT 'Borrador'| 'Borrador', 'Publicado', 'Archivado'. | | fecha_publicacion | TIMESTAMP | | Fecha y hora en que se publica. | | created_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP| | | updated_at | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP| |
Tabla: Calificaciones_Publicas
Descripción: Almacena las puntuaciones que los aficionados dan a diferentes entidades. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | calificacion_id | SERIAL | PK | | | aficionado_id | INT | FK a Aficionados(aficionado_id) | Usuario registrado que califica. | | entidad_tipo | VARCHAR(50) | NOT NULL | 'Jugador', 'Club', 'Partido', 'Estadio'. | | entidad_id | INT | NOT NULL | ID de la entidad que está siendo calificada. | | puntuacion | SMALLINT | NOT NULL | La calificación dada (ej. de 1 a 5). | | fecha_creacion | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP| |
Tabla: Comentarios_Publicos
Descripción: Almacena los comentarios de los aficionados. | Nombre del Campo | Tipo de Dato (PostgreSQL) | Restricciones | Descripción | | :--- | :--- | :--- | :--- | | comentario_id | SERIAL | PK | | | aficionado_id | INT | FK a Aficionados(aficionado_id) | Usuario registrado que comenta. | | comentario_padre_id| INT | FK a Comentarios_Publicos(comentario_id), NULLABLE | Para anidar comentarios (respuestas). | | entidad_tipo | VARCHAR(50) | NOT NULL | 'Noticia', 'Partido', 'Jugador', 'Club'. | | entidad_id | INT | NOT NULL | ID de la entidad que se comenta. | | texto_comentario| TEXT | NOT NULL | El contenido del comentario. | | estado_moderacion| VARCHAR(50) | NOT NULL, DEFAULT 'Pendiente'| 'Pendiente', 'Aprobado', 'Rechazado'. | | motivo_moderacion| TEXT | NULLABLE | Razón por la cual un comentario fue rechazado. | | fecha_creacion | TIMESTAMP | DEFAULT CURRENT_TIMESTAMP| |